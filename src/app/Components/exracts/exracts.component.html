
<div fxFlex.gt-sm="100" fxFlex.gt-xs="100" fxFlex="100">
   <mat-card>
      <div class="gene-card-title">
         <div fxLayout="row" fxLayoutAlign="space-around center"  fxLayout.xs="column">
            <div fxLayout="column">
               <h4>{{'Extracts'|translate}}</h4>

            </div> <span fxFlex></span>
            
            <div fxLayout="column">
               <button class="mrgn-b-xs" mat-raised-button color="primary" (click)="open()"
                [ngStyle]="{ 'display': (boolrole ? 'none' :  'block' ) }"
                >{{'Add Extract'|translate}}
                  <mat-icon>queue</mat-icon>
                </button>

            </div> 
         </div>
        
         <br/>
         <div fxLayout="row" fxLayoutAlign="center center"  fxLayout.xs="column">
          <button class="mrgn-b-xs" mat-raised-button color="primary"  style=" color: white; padding: 1%; padding-left: 3%; padding-right: 3%; font-size: medium; font-weight: bold;" (click)="state('draft')">{{'draft'|translate}}
           
          </button>
          <button class="mrgn-b-xs" mat-raised-button  style="background-color: rgb(243, 163, 16); color: white;  padding: 1%; font-size: medium; font-weight: bold;" (click)="state('waiting')">{{'waiting'|translate}}</button>
          <button class="mrgn-b-xs" mat-raised-button color="accent" (click)="state('accepted')" style=" padding: 1%;  padding-left: 3%; padding-right: 3%; font-size: medium; font-weight: bold;">{{'accepted'|translate}}</button>
          <button class="mrgn-b-xs" mat-raised-button color="warn" (click)="state('rejected')" style=" padding: 1%;  padding-left: 3%; padding-right: 3%; font-size: medium; font-weight: bold;">{{'rejected'|translate}}</button>
          
         </div>
         <br/>
         
         <mat-divider></mat-divider>
      </div>
      <div class="gene-card-content pad-t-none">
         <div class="table-responsive">
            <table class="table table-hover table-middle th-fw-light mb-0">
               <thead>
                  <tr>
                     <th  style="text-align: center;">{{'ID'|translate}}</th>
                     <th  style="text-align: center;">{{'Executed Business Amount'|translate}}</th>
                     <th  style="text-align: center;">{{'The amount paid'|translate}}</th>
                     <th  style="text-align: center;">{{'Total Price'|translate}}</th>
                     <th style="text-align: center;">{{'Controls'|translate}}</th>
                    
                  </tr>
               </thead>

               <tbody  *ngFor="let invoice of Invoices | paginate: { id: 'listing_pagination',
                    itemsPerPage: 10,
                    currentPage: page,
                    totalItems: totalRec } let i = index">
                  <tr *ngIf="invoice.state == statename">
                     <td style="text-align: center;">{{i+1}}</td>

                     <td  style="text-align: center;">{{invoice.total_excuted}}</td>
                     <td  style="text-align: center;">{{invoice.paid}}</td>
                     <td  style="text-align: center;">{{invoice.total_price}}</td>
    <td>
      <div class="dropdown row">
            <button mat-icon-button  (click)="invoicedetails(invoice.id)" matTooltip="{{'Detials'|translate}}" >
                         <mat-icon  color="primary">arrow_back</mat-icon>
                   </button>
          </div>
    </td>
  
                  </tr>
               </tbody>
            </table>
            <pagination-controls  id="listing_pagination" maxSize="5" directionLinks="true"
             previousLabel="{{'Previous'|translate}}"
              nextLabel="{{'Next'|translate}}"
             (pageChange)="page = $event"></pagination-controls>
         </div>
      </div>
   </mat-card>
</div>
