<div fxLayout="row wrap" fxLayoutAlign=" start" class="gene-form-wizard" dir="rtl">

   <mat-card fxFlex="100%">
       <div class="gene-card-title">
          <div fxLayout="row" fxLayoutAlign="start center">
             <div fxLayout="column">
                <h4> {{projectname}}  / {{'Request for Inventroy Qunatities'|translate}}</h4>
             </div>
           
            
          <span fxFlex></span> 
       </div>
       <div fxLayout="row wrap" fxLayoutAlign="space-between center">
         <div fxFlex.gt-sm="30" fxFlex.gt-xs="30" fxFlex="100" fxFlex.gt-md="30">
            <mat-label class="text-center">{{'Item Number'|translate}}</mat-label>
            <mat-form-field class="full-wid mrgn-b-lg ">
               <mat-label>{{'Item Number'|translate}}</mat-label>
               <!-- <mat-select [(ngModel)]="item_number">
                  <mat-option  *ngFor= "let item of items"               
                  (click)="BindItemname(item.item_name , item.id , item.product_uom_name, item.dimension, description)" [value]="item.item_number">{{item.item_number}}
               </mat-option>
              </mat-select>                -->
              <input autofocus="false"
                  type="text"
                  placeholder="{{'Pick one'|translate}}"
                  matInput
                  [formControl]="myControl"
                  [matAutocomplete]="auto"
                  [(ngModel)]="item_number"
               />
               <mat-autocomplete #auto="matAutocomplete">
                  <mat-option *ngFor="let option of (filteredNumbers | async)" [value]="option.item_number" (click)="BindItemname(option.item_name , option.id , option.product_uom_name, option.dimension, description)">
                    {{ option.item_number }}
                  </mat-option>
                </mat-autocomplete>
         </mat-form-field>
      </div>

      <div fxFlex.gt-sm="30" fxFlex.gt-xs="30" fxFlex="100" fxFlex.gt-md="30">
         <mat-label class="text-center">{{'Item Name'|translate}}</mat-label>
         <mat-form-field class="full-wid mrgn-b-lg ">
            <mat-label>{{'Item Name'|translate}}</mat-label>
            <!-- <mat-select [(ngModel)]="item_name">
               <mat-option  *ngFor= "let item of items"
               (click)="BindItemnumber(item.item_number , item.id , item.product_uom_name, item.dimension, description)" [value]="item.item_name">{{item.item_name}}
            </mat-option>
           </mat-select> -->
            
           <input
                  type="text"
                  placeholder="{{'Pick one'|translate}}"
                  matInput
                  [formControl]="myControl1"
                  [matAutocomplete]="auto1"
                  [(ngModel)]="item_name"
               />
               <mat-autocomplete #auto1="matAutocomplete">
                  <mat-option *ngFor="let option of (filteredNames | async)" [value]="option.item_name" (click)="BindItemnumber(option.item_number , option.id , option.product_uom_name, option.dimension, description)">
                    {{ option.item_name }}
                  </mat-option>
                </mat-autocomplete>
      </mat-form-field>
   </div>

   <div fxFlex.gt-sm="30" fxFlex.gt-xs="30" fxFlex="100" fxFlex.gt-md="30">
         <mat-label>{{'Unit'|translate}}</mat-label>
         <mat-form-field class="full-wid mrgn-b-lg ">
               <input  matInput name="unit" [(ngModel)]="unit" type="text" disabled  />
           </mat-form-field>
          </div>
      </div>

      <!-- <div fxLayout="row wrap" fxLayoutAlign="space-between center">
         <div fxFlex.gt-sm="49" fxFlex.gt-xs="49" fxFlex="100" fxFlex.gt-md="49">
            <mat-label>{{'Unit'|translate}}</mat-label>
            <mat-form-field class="full-wid mrgn-b-lg ">
                  <input  matInput name="unit" [(ngModel)]="unit" type="text" disabled  />
              </mat-form-field>
             </div>
             <div fxFlex.gt-sm="49" fxFlex.gt-xs="49" fxFlex="100" fxFlex.gt-md="49">
               <mat-label>{{'Collect Request Number'|translate}}</mat-label>
               <mat-form-field class="full-wid mrgn-b-lg ">
                     <input  matInput name="request_number" [(ngModel)]="request_number" type="text" disabled />
                 </mat-form-field>
               </div>
       </div> -->
        
       <div fxLayout="row wrap" fxLayoutAlign="space-between center">
         <mat-label>{{'Collect Duration'|translate}}</mat-label>
         <div fxFlex.gt-sm="100" fxFlex.gt-xs="100" fxFlex="100" fxFlex.gt-md="100">
       
         <div fxFlex.gt-sm="48" fxFlex.gt-xs="48" fxFlex="100" fxFlex.gt-md="48">
            
            <mat-label>{{'From Duration'|translate}}</mat-label>
               <mat-form-field class="full-wid mrgn-b-lg"> 
                  <input matInput  name="fromd" [(ngModel)]="fromd"
                 [min]="minDate" [max]="maxDate" [matDatepicker]="from"
                  placeholder="{{'From'|translate}}">
                 <mat-datepicker-toggle matSuffix [for]="from"></mat-datepicker-toggle>
                 <mat-datepicker #from></mat-datepicker>   
               </mat-form-field>
          </div>

         <div fxFlex.gt-sm="51" fxFlex.gt-xs="51" fxFlex="100" fxFlex.gt-md="51" style="margin-right:5%;">
            
            <mat-label>{{'To Duration'|translate}}</mat-label>
          
            <mat-form-field class="full-wid mrgn-b-lg"> 
               <input matInput name="tod" [(ngModel)]="tod"
              [min]="minDate" [max]="maxDate" [matDatepicker]="to"
               placeholder="{{'To'|translate}}">
              <mat-datepicker-toggle matSuffix [for]="to"></mat-datepicker-toggle>
              <mat-datepicker #to></mat-datepicker>   
            </mat-form-field>
         </div>
         </div>

       </div>
       <div fxLayout="row" fxLayoutAlign="center">
         <button class="mrgn-b-xs" mat-raised-button color="accent" (click)="ShowRFI()">
        
            {{'Submit'|translate}} 
            <mat-icon>queue</mat-icon>

         </button>
        </div>
      
      </div >
       <div class="gene-card-content">
          
         <div class="table-responsive">

            <table class="table table-hover table-middle th-fw-light mb-0">
               <thead>
                  <tr class="text-center">
                     <th style="text-align: center;">{{'Choose'|translate}}</th>
                     <th style="text-align: center;">{{'Inspect Rquest Number'|translate}}</th>
                     <th style="text-align: center;">{{'Inspect Request Type'|translate}}</th>
                     <th style="text-align: center;">{{'Project Items'|translate}}</th>
                     <th style="text-align: center;">{{'Date'|translate}}</th>
                  </tr>
               </thead>
               <tbody>
                  <tr *ngFor="let item of RFI ; let i = index;" @fade>
                     <td style="text-align: center;">
                        <mat-checkbox (change)="getRFIid($event , item.id , i)"></mat-checkbox>
                     </td>
                     <td style="text-align: center;">
                      {{item.request_num}}
                     </td>
                     <td style="text-align: center;">
                        {{item.request_type}}
                     </td>
                     <td style="text-align: center;">
                        {{item.item_id}}
                     </td>
                     <td style="text-align: center;">
                      {{item.inspect_date}}
                     </td>
                  </tr>
               </tbody>
            </table>
         </div>
       </div>
    </mat-card>
</div>


<div fxLayout="row wrap" fxLayoutAlign=" start" class="gene-form-wizard" dir="rtl">
   <mat-card fxFlex="100%">
      <div class="gene-card-title">
         <div fxLayout="row" fxLayoutAlign="start center">
            <div fxLayout="column">
               <h4>{{'Inspect Location'|translate}}</h4>
            </div>
          
           
         <span fxFlex></span> 
         </div>
         </div>
         <div class="gene-card-content pad-t-none">
            <div class="table-responsive" id="dvPdf">
              
               <table class="table table-hover table-middle th-fw-light mb-0">
                  <thead>
                     <tr style="text-align: center;">
                        <th style="text-align: center;">{{'ID'|translate}}</th>
                        <th style="text-align: center;">{{'Inspect Rquest Number'|translate}}</th>
                        <th style="text-align: center;">{{'Inspect Location'|translate}}</th>
                        <th style="text-align: center;">{{'Description'|translate}}</th>
                        <th style="text-align: center;">{{'Number'|translate}}</th>
                        <th style="text-align: center;">{{'Completion Rate'|translate}}</th>
                        <th style="text-align: center;">{{'Executed Quantity'|translate}} 
                           <br> 
                           <mat-label>{{'Measurements'|translate}}</mat-label>
                          
                        </th>
                        

                        <!-- <th style="text-align: center;">{{'Approved Quantity'|translate}}
                        <br> 
                        <mat-label>{{'Measurements'|translate}}</mat-label>
                     
                     </th> -->
                     <!-- <th style="text-align: center;">{{'Completion Rate'|translate}}</th> -->
                        <th style="text-align: center;">{{'Controls'|translate}}</th>
                     </tr>
                  </thead>
                  <tbody *ngFor="let item of Location; let i = index"  >
                     <tr  style="text-align: center;" @fade>
                        <td style="text-align: center;">{{item.rfi_id}}</td>
                        <td style="text-align: center;">
                         {{item.ir_name}}
                        </td>
                        <td style="text-align: center;">{{item.name}}</td>
                        <td style="text-align: center;">
                           <mat-form-field class="half-wid  mrgn-b-lg" >
                              <mat-label>{{'Description'|translate}}</mat-label>
                              <input matInput name="desc"                                
                               [(ngModel)]="item.description"                              
                              />
                        </mat-form-field>
                        </td>
                        <td style="text-align: center;">
                           <mat-form-field class=" half-wid   mrgn-b-lg">
                           <input matInput  
                          [(ngModel)]="item.Number"
                          placeholder="{{'Number'| translate}}"
                          />
                        </mat-form-field>
                        </td>
                        <td style="text-align: center;">
                          
                           <mat-form-field class="half-wid  mrgn-b-lg" >
                              <mat-label>{{'Completion Rate'|translate}}  %</mat-label>
                              <input matInput name="percentage"                                
                               [(ngModel)]="item.percentage"                              
                              />
                        </mat-form-field>
                       
                         </td>
                       <td style="text-align: center;">
                        
                        <mat-form-field class=" qua-wid  mrgn-b-lg">
                           <mat-label>{{'Length'|translate}}</mat-label>
                           <input matInput name="qty_length"  
                            [(ngModel)]="item.qty_length" 
                              (change)="calQty(item)"
                           placeholder={{qty_length}}
                           />
                     </mat-form-field>
                  &nbsp; 
                  &nbsp; 

                     <mat-form-field class="qua-wid  mrgn-b-lg" *ngIf="dimension>1">
                        <mat-label>{{'Width'|translate}}</mat-label>
                        <input matInput name="qty_width" 
                         [(ngModel)]="item.qty_width" 
                         (change)="calQty(item)"
                        placeholder={{qty_width}}
                        />
                  </mat-form-field>
                  &nbsp; 
                  &nbsp; 
                  <mat-form-field class=" qua-wid  mrgn-b-lg" *ngIf="dimension>2">
                     <mat-label>{{'Height'|translate}}</mat-label>
                     <input matInput name="qty_height" 
                      [(ngModel)]="item.qty_height" 
                      (change)="calQty(item)"
                     placeholder={{qty_height}}
                     />
               </mat-form-field>
               &nbsp; 
               &nbsp;
               <mat-form-field class="qua-wid  mrgn-b-lg" *ngIf="1>2">
                  <mat-label>{{'Total'|translate}}</mat-label>
                  <input matInput name="qty"  
                  disabled
                   [(ngModel)]="item.qty" />
            </mat-form-field>
           
                         </td>

                         
                         <!-- <td>
                           
                        <mat-form-field class="half-wid  mrgn-b-lg">

                            <mat-label>{{'Length'|translate}}</mat-label>
                           <input matInput name="approved_length"  
                           (change)="calApprove()"
                           [(ngModel)]="approved_length"
                           />
                     </mat-form-field>
                     &nbsp; &nbsp;
                         <mat-form-field class="half-wid  mrgn-b-lg">
                           <mat-label>{{'Width'|translate}}</mat-label>
                              <input matInput name="approved_width"  
                              (change)="calApprove()"
                              [(ngModel)]="approved_width"
                              />
                        </mat-form-field>
                        &nbsp; &nbsp;
                        <mat-form-field class="half-wid  mrgn-b-lg">
                            <mat-label>{{'Height'|translate}}</mat-label>
                           <input matInput name="approved_height"  
                           (change)="calApprove()"
                           [(ngModel)]="approved_height"
                           />
                     </mat-form-field>
                     &nbsp; &nbsp;
                     <mat-form-field class="half-wid  mrgn-b-lg">
                        <mat-label>{{'Total'|translate}}</mat-label>
                        <input matInput name="approve"  
                       disabled
                        [(ngModel)]="approve"
                        />
                  </mat-form-field>
                
                         </td> -->
                         <td style="text-align: center;">
                            <mat-icon matTooltip="{{'Delete'|translate}}" (click)="delete(i)">delete</mat-icon>
                       </td>
                     </tr>
                   
                  </tbody>
                 
               </table>
               
            </div>
           
         </div>
         <div fxLayout="row" fxLayoutAlign="space-between">
            <button mat-button mat-raised-button color="warn" (click)="dialogRef.close()"  type="button" dir="ltr">
               {{'Cancel'|translate }}     <mat-icon>cancel</mat-icon></button>
                         
            <button class="mrgn-b-xs" mat-raised-button color="accent" (click)="AddCount()">{{'Add'|translate}}     <mat-icon>done_outline</mat-icon></button>
       </div>
   </mat-card>
  

</div>
   